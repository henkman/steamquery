(function(){var l={seconds:{patterns:["second","sec","s"],value:1,formats:{chrono:"",micro:"s","short":"sec","long":"second"}},minutes:{patterns:["minute","min","m(?!s)"],value:60,formats:{chrono:":",micro:"m","short":"min","long":"minute"}},hours:{patterns:["hour","hr","h"],value:3600,formats:{chrono:":",micro:"h","short":"hr","long":"hour"}},days:{patterns:["day","dy","d"],value:86400,formats:{chrono:":",micro:"d","short":"day","long":"day"}},weeks:{patterns:["week","wk","w"],value:604800,formats:{chrono:":",
micro:"w","short":"wk","long":"week"}},months:{patterns:["month","mon","mo","mth"],value:2628E3,formats:{chrono:":",micro:"m","short":"mth","long":"month"}},years:{patterns:["year","yr","y"],value:31536E3,formats:{chrono:":",micro:"y","short":"yr","long":"year"}}},m=function(a,b){if(isNaN(parseFloat(a))||!isFinite(a))throw"juration.stringify(): Unable to stringify a non-numeric value";if("object"===typeof b&&void 0!==b.format&&"micro"!==b.format&&"short"!==b.format&&"long"!==b.format&&"chrono"!==
b.format)throw"juration.stringify(): format cannot be '"+b.format+"', and must be either 'micro', 'short', or 'long'";var d={format:"short",units:void 0},c;for(c in b)void 0!==b[c]&&(d[c]=b[c]);var f="years months days hours minutes seconds".split(" ");b=[];var e=a,g=0;a=0;for(c=f.length;a<c&&(void 0==d.units||g<d.units);a++){var h=l[f[a]];b[a]=Math.floor(e/h.value);(0<b[a]||0<g)&&g++;if("micro"===d.format||"chrono"===d.format)b[a]+=h.formats[d.format];else{var k=a,m=h.formats[d.format];b[k]+=" "+
(1==b[a]?m:m+"s")}e%=h.value}f="";a=0;for(c=b.length;a<c;a++)if("0"!==b[a].charAt(0)&&"chrono"!=d.format)f+=b[a]+" ";else if("chrono"==d.format){e=b[a]+"";g=a==b.length-1?2:3;if(e&&!(e.length>=g))for(g=(g-e.length)/1,h=0;h<g;h++)e="0"+e;f+=e}return f.replace(/\s+$/,"").replace(/^(00:)+/g,"").replace(/^0/,"")},k={parse:function(a){for(var b in l)for(var d=0,c=l[b].patterns.length;d<c;d++)a=a.replace(new RegExp("((?:\\d+\\.\\d+)|\\d+)\\s?("+l[b].patterns[d]+"s?(?=\\s|\\d|\\b))","gi"),function(a,c,d){return" "+
(c*l[b].value).toString()+" "});d=0;a=a.replace(/(?!\.)\W+/g," ").replace(/^\s+|\s+$|(?:and|plus|with)\s?/g,"").split(" ");c=0;for(var f=a.length;c<f;c++)if(a[c]&&isFinite(a[c]))d+=parseFloat(a[c]);else{if(a[c])throw"juration.parse(): Unable to parse: "+a[c].replace(/^\d+/g,"");throw"juration.parse(): Unable to parse: a falsey value";}return d},stringify:m,humanize:m};"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=k:(window.juration=k,"function"===typeof define&&
define.amd&&define("juration",[],function(){return k}))})();
